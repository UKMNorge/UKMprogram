{% extends "Layout/base.html.twig" %}

{% set hideButton = false %}

{% block content %}

	<h3>Velg hvilke hendelser du vil jobbe med</h3>

	<ul class="list-group" style="max-width: 768px;">
		{% for hendelse in monstring.getProgram().getAll()|filter( hendelse => hendelse.getType() == 'default' ) %}
			<li class="list-group-item">
				<label>
					<input type="checkbox" name="hendelser" value="{{ hendelse.getId() }}" {{ 'forestilling' in hendelse.getNavn()|lower ? 'checked' }} />
					{{ hendelse.getNavn() }}
				</label>
			</li>
		{% else %}
			{% set hideButton = true %}
			<li class="list-group-item text-danger">
				Kan ikke starte grovsortering da du ikke har noen hendelser som kan ta i mot innslag.
				<br />
				<a href="?page={{ GET('page') }}&action=hendelse&id=new">Opprett en hendelse</a>, hvor du velger at detaljprogrammet best√•r av innslag.
			</li>
		{% endfor %}
	</ul>

	{% if not hideButton %}
		<p>
			<button type="button" class="btn btn-success" id="startSort">Start sortering</button>
		</p>
	{% endif %}
{% endblock %}